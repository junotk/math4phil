\documentclass[11pt,a4paper, dvipdfmx]{jsarticle}
\input{m4p_preamble.tex}


\usepackage{tikz}
\usetikzlibrary{intersections, calc, arrows, positioning, arrows.meta}

\begin{document}


\title{6. モノイド}
\author{2025秋期「哲学者のための数学」授業資料（大塚淳）}
\date{ver. \today}
\maketitle

\section{モノイドとは何か，なぜそれを学ぶのか}
前章で見た位相は，空間に関する幾何学的な概念であった．
一方本章および次章の主題となるモノイドや群は，本質的に代数的な「計算」にまつわる概念である．
よって我々は，代数，幾何と来て再び代数の世界に戻ってきた．

文系の学生にとって，「位相」という言葉は耳にしたことくらいはあっても，「モノイド」となると聞いたこともない，という人も多いかもしれない．
しかし実のところ我々は皆，小学生のころからモノイドに親しんでいる．
というのも，足し算や掛け算などはまさにこのモノイドの作用に他ならないからだ．
モノイド（や次の章で扱う群）は，そうした四則演算を始めとした「演算」一般の最もプリミティブな形を抜き出したものと言える．
しかしながら，モノイドを数学を超えた自然科学一般において極めて重要なものにしているのは，それが対象や系の変化・発展を表すための非常に自然な枠組みを提供する，という点である．
もちろん，哲学もそれに無縁ではない．というのも，そこには法則や自由，決定論，目的論など，様々な哲学的な含意が含まれているからだ．

このようにモノイドの応用は多岐にわたるが，その基本的な考え方はこれ以上ないくらいシンプルである．
ここではその本質的な点のみに的を絞って紹介したい．
そこから得られるモノイドは，数学者や物理学者からしたらおもちゃみたいに簡単なものでしかないかもしれないが，その哲学的含意を考えるには十分であろう．

\section{モノイド}
まずはいつものように，集合をベースにモノイドを定義しよう．

\begin{dfn}{モノイド}
集合$M$上に，積と呼ばれる二項写像$\circ: M \times M \to M$が定義されており，以下の条件を満たすとき，組$(M, \circ, i)$を\emph{モノイド}(monoid)という．
\begin{enumerate}
 \item $M$の任意の元$l, m, n$に対して，結合律$(l \circ m) \circ n = l \circ (m \circ n)$がなりたつ．
 \item \emph{単位元}(identity element)と呼ばれる元$i \in M$が存在して，$M$の任意の元$m$に対して，$i \circ m = m \circ i = m$がなりたつ.
\end{enumerate} 
\end{dfn}

これだけである．
つまりモノイドとは，その2つの元$m,n$をある元$m \circ n$に対応させるモノイド演算$\circ$が備わっているような集合である．
公理1は，この演算が結合律を満たすこと，そして公理2はこの演算において「何もしない」単位元が存在することを言っている．
しばしば演算記号は省略され，$m \circ n$は$mn$のように書かれる．
また誤解が生じないときは，演算や単位元を明示せずに単に$M$がモノイドである，というように言うこともある．


\begin{rei}{}{n_monoid}
ゼロを含む自然数$\bbN$（つまり非負整数）は，二項演算$+$とモノイドをなす．ここでの単位元は$0$である．
実際任意の自然数$x, y, z$について，$(x+y)+z = x + (y+z)$かつ$0 + x = x + 0 = x$. 
同様に，$\bbN$が乗算$\times$についてもモノイドとなることを確認せよ（その単位元はなんだろうか）．
%また明らかなように，上の議論は自然数の代わりに有理数$\bbQ$，実数$\bbR$のゼロ以上の部分を用いても成立する．
\end{rei}

\begin{rei}{}{r_monoid}
足し算についての上の議論は，自然数の代わりに有理数$\bbQ$，実数$\bbR$のゼロ以上の部分を用いても成立する．
例えば$\bbR^+ := \{ x \in \bbR | x \geq 0 \}$と定義すると，$(\bbR^+, +, 0)$はモノイドである．
（負の部分はどうなるのか，と思うかもしれないが，これはあとで群を定義するときに見る．）
\end{rei}

モノイドの演算が具体的にどうなっているのかは，それぞれの元のペアの演算結果を明示することによって表示できる．
具体的には，すべてのモノイド元を表の上端と左端に並べ，それが交差するマスにその積の結果を示していく．
ただしかける順番は「行$\circ$列」，つまり$a$行$b$列にあるマスには$a \circ b$が入るとする．
\[
\begin{array}{c|cccccc}
       & i & a        & b        & c        & \dots  \\ \hline
     i & i & a        & b        & c        & \dots  \\ 
     a & a & a\circ a & a\circ b & a\circ c & \dots  \\ 
     b & b & b\circ a & b\circ b & b\circ c & \dots  \\ 
     c & c & c\circ a & c\circ b & c\circ c & \dots  \\ 
     \vdots & \vdots & \vdots & \vdots & \\
\end{array}
\]
お馴染みの「九九の表」は，自然数の掛け算モノイドの演算を表で表したものだ：
\[
\begin{array}{c|cccccc}
       & 1 & 2 & 3 & \dots & n & \dots \\ \hline
     1 & 1 & 2 & 3 & \dots & n & \dots \\ 
     2 & 2 & 4 & 6 & \dots & 2n & \dots \\ 
     3 & 3 & 6 & 9 & \dots & 3n & \dots \\ 
     \vdots & \vdots & \vdots & \vdots & & \vdots & \\
     m & m & m2 & m3 & \cdots & mn & \cdots \\
     \vdots & \vdots & \vdots & \vdots & & \vdots & \\
\end{array}
\]
九九表の各マスは，モノイド$(\bbN, \times, 1)$の1から9までの各元（一番左の列）が，それぞれ1から9までの元（一番上の行）をどの自然数に対応させるかを表している．
すべてのモノイド演算は，原理的にこうした表（「積表」という）によって表すことができる．
つまり我々は小学生のころからモノイドを知っていたのである！


\begin{hatten}{実数の様々な側面}{reals}
我々は今まで，（非負）実数$\bbR$を様々な数学的構造として見てきた．
まず2章ではそれが非可算無限集合であることを確認した．
3章ではその要素の間に大小関係$\leq, \geq$を入れた全順序集合として見た．
4章では，実数を開区間$(a,b)$からなる開集合を持つ位相空間として特徴づけた．
そしてここでは，二項演算$+$および$\times$が定義されたモノイドとして定義した．
このように，同じ「実数の集合」でも様々な顔を持ち，それらの顔はすでに見たような公理によって構成される．
我々が普段何気なく使う実数は，実はこうした顔全てをあわせもつ存在なのである．

 もちろん，実数の特徴づけはこれで終わりなわけではない．
 まず引き算と割り算の導入がまだであるし（これは以下で群のところで見る），またここで導入した足し算と掛け算が互いにどう関係し合うのか（例えば分配法則$a(b+c) = ab + ac$が満たされるか）などは，別個の公理によって定めなければならない．
 このためにはさらに\emph{環}(ring)，\emph{体}(field)といった概念を導入しなければならいのだが，本授業ではそこまでは扱わない．
\end{hatten}


\begin{rei}{心的刺激}{psychological_stimuli}
ある人の心に生じる様々な心的刺激の集合を$M$で表すと，これはモノイドを生成する．
その元は特定の質を持つ心的刺激，例えば「痛み($m$)」や「熱さ($n$)」であり，単位元は「何も感じない」ような刺激，積による合成 $m \circ n$ は熱さの後に痛みを感じることである．
このモノイドの積表がどのようになっているかはアプリオリには全く明らかではなく，それは心理学的探求によって考察されるべき事柄である．
\end{rei}


\begin{rei}{時間経験}{time}
似たような事例として，\cite{taguchi2023monoid}は，モノイドによって現象学的な時間経験をモデル化することを提案している．
授業を受けたり，モーツァルトを聞いたりといった様々な時間経験が，モノイドの各元をなすと考える．
上の例同様，合成は二つの経験を連続して経験することである．例えばモーツァルトのソナタを聞く経験$m$は，曲の冒頭$m_1$から最後$m_n$まで続く流れの合成$m = m_n \circ \dots \circ m_1$として得られるだろう．
そしてここから結合律がなりたつことも推察される．というのも，1楽章を聞いてから2,3楽章の鑑賞をするのと，1,2楽章の鑑賞経験の後に，3楽章を聞くのは，明らかに同じ経験だからだ．

どのような経験も一定の時間の厚みを持っているが，単位元$i$は，そうした厚みを全く持たない「瞬間」と考えれば良い．
したがってどのような経験$m \in M$に「瞬間」を加えても，もとの経験と変わらない，$i \circ m  = m \circ i = m$である．
これは，「何もしない」ということではないことに注意．というのも何もしないことも一つの厚みを持った経験であるからだ．
あくまで単位元$i$は，時間経験として認識されることのない瞬間でなければならない．
\end{rei}


\begin{rei}{コギト}{cogito}
    2章事例2.6では，人格的同一性を心理的連続に求めるロック的なアプローチを見た．これは，人格というものを時間断片の意識から構成しようとする点で，還元主義的なアプローチである．
    それに対し，人格はこうした断片に還元されない固有の実体性を持つ，という非還元主義的な見方もある．「我」の存在を「考える cogito」という活動に基づけるデカルトは，こうした見方の代表格である．また，スコットランド常識学派のトマス・リードは次のように書いている：
    
    \begin{quote}
    私の人格の同一性は・・・私が私自身とよぶ，その不可分のものの継続した存在を含意している．この自己が何であれ，それは思考し，熟慮し，決意し，行動し，苦しむところの何ものかである．
    \end{quote}

    人格を行動し経験する「主体」に基づけるこうした見方は，モノイド的観点から捉えることができる．
    モノイドの元は，熟慮したり決意したりなどといった主体の営為である．
    ある営為$m$の後に$n$を行うことを，その積$n \circ m$で表す．
    結合律を見るために，例えば状況を知覚し($m$)，選択肢を吟味し($n$)，決断を下す($l$)という一連の流れを考えてみる．
    この一連の流れは，「事態を精査した上で決断を下す $l \circ (n \circ m)$」こととしても，「状況を知覚したあとで検討判断する $(l \circ n ) \circ m$」こととしても捉えることができる．
    他についても同様なので，積は結合律を満たすと判断できる．
    単位元については，上の例と同様に時間幅を持たない「瞬間」を割り当てればよい．
    このような仕方で，それぞれのコギトはモノイドとしてモデル化することができる．
\end{rei}


\begin{rei}{料理}{cocking}
    素材を入れる，油を引く，煮る，焼く，塩を入れる，等々を元とし，それを続けて行うことを積で表わせば，料理をモノイドと考えることができる．
    単位元には，例えば「ウィンクする」など，料理に全く影響を与えない動作をあてがえばよろしい．
\end{rei}    


\begin{renshu}{絵の具}{painting}
    様々な色の絵の具があるとせよ．
    それぞれの色から決まった量（例えば5ml）をパレットに取ってまぜるという作業を元とする．
    例えばyellow, greenはそれぞれ5mlの黄色，5mlの緑を混ぜるということを表し，その合成元$\text{yellow} \circ \text{green}$はそうしてできた緑・黄色の合成色から再び5mlを取り出して他の色にまぜる，ということを表す．
    なお単位元は何も混ぜない，という作業だとする（ウインクでもしておけばよろしい）．
    このときこれはモノイドをなすだろうか．
\end{renshu}    


\section{モノイドの生成}

モノイドの例は数学以外にも事欠かない．
対象を繋げたり，行為を続けていったりというような逐次的なプロセスは，自然にモノイド構造を生み出す．

\begin{rei}{自由モノイド}{free_monoid}
3つの記号$a, b, c$に空文字$i$を加えた集合を$\Sigma = \{a, b, c, i \}$とする．
これらの文字（列）を横に繋げたものを積で表す（e.g. $a \circ b = ab, aabc \circ bac = aabcbac$）．
$i$は空文字なので繋げても何も変化しないとする（e.g. $ai = ia = a$）．
積による合成を再帰的に繰り返すことで，無限に文字列を生成することができる．
このように生成された文字列の集合を$\Sigma_*$とすると，これは$\circ$を積，$i$を単位元としたモノイドになっており，これを$\Sigma$上に生成される\emph{自由モノイド}(free monoid)という．
「消去(backspace)」を使わずにパソコンのキーストロークによって得られる文は，こうした自由モノイドの一例である．
\end{rei}

この例では，上の自然数の例とは異なり，有限個の「素材」$\Sigma$を元手として，それを積で合成することで$\Sigma_*$における無数のモノイド元を生成している．
生成されたモノイドが自由であるとは，それらの元の間に自明でないような等号関係がない，ということを意味している．
実際，上の$\Sigma_*$においては，いかなる文字列もそれ自身以外とは等しくない．
一方自然数のほうは，例えば$7 + 5 = 2 + 10 = 12$のように，複数の元の間に等号関係がある．


% \begin{rei}{キーボード入力}{}
% \texttt{a}から\texttt{z}のアルファベット25文字とバックスペースキー\texttt{[DEL]}，および空文字$i$からなるキーボードを考える．
% これらの組み合わせによるキーボード入力の一つ一つは，上と同様の演算によってモノイド元となる．
% しかしこのモノイドは自由ではない．
% というのも，例えば\texttt{a, b, c}と順に打っても，\texttt{a, b, c, d}と打ってから一文字消去しても，同じ結果が得られる，つまり$\texttt{cba} = \texttt{[DEL]dcba}$が成り立つからだ．

% \texttt{DEL}を
% 上の例と同様に，このキーボードによる入力は
 
% \end{rei}

\begin{rei}{ロボットのプログラム}{robot_program}
プログラムによって操作できるロボットを考える．
ロボットに可能な動きは一歩前進する($f$)・右を向く($r$)・左を向く($l$)・何もしない($i$)の4つとする．
プログラムはこれら可能な4つの動作を有限回繰り返したものとして書かれる．
例えば$ffrf$を入力すると，ロボットは前に一歩進んだあと右に向きを変えて二歩進む．
任意のプログラムは逐次的につなげることができる．例えば$ffrf \circ lilf$は$lilf$を実行した後に$ffrf$を実行する．
このロボットのプログラムは，上と同じようにモノイド$\Sigma_*$を生成する．
\end{rei}

これは前の事例\ref{rei:free_monoid}と構造上ほぼ同じように見えるが，重要な違いがある．
事例\ref{rei:free_monoid}の記号連結は自由モノイドを生成した．
一方，ロボットのプログラムの方はどうであろうか．
確かに，$rlff$は前に二歩進んで左・右，$ffrl$は左・右を向いてから前に二歩，とロボットの動作としては異なる．
その意味において，ロボットの\emph{動作}のプログラムとしてはこちらも自由モノイドである．
しかし，プログラムの最終的な\emph{結果}にだけ着目すると，両者とも同じ，単に前に二歩進む($ff$)のと同じ結果をもたらす．
よって結果の観点からは$rlff = ffrl = ff$というような等号関係が成立する．
その意味では，このモノイドには単に動作を組み合わせてできる様々なプログラムが含まれているだけでなく，それらのプログラムの間の等号関係を含んでいる．
よってここでの$\Sigma_*$は基本動作の集合から生成されたモノイドではあるが，自由に生成されたものではない．


\begin{rei}{スレた大学生の日常}{life_monoid}
    事例\ref{rei:cogito}で見たデカルト的コギトを，より身近な大学生活に引きつけて考えてみよう．
    デカルトによれば，我々は自由である．
    しかし実際の人生は大して自由でもなく，できることはせいぜい，お決まりの選択肢の中から今日やることを選ぶことぐらいだ．
    正味，大学生にできることといえば$(p)$ 遊ぶ，$(s)$勉強する，$(w)$バイトに行く，$(r)$休むくらいだろう\footnote{これを，自分の経験からの過度な一般化という．}．なのでこれに名目的な単位元($i$)を加えたものを$M$としよう．
    行動$m$をした翌日に$n$を行うことを積$n \circ m$で表すと，$M$はモノイドとなる．
    例えば$prwpssp$は遊び・勉強・勉強・遊び・バイト・休み・遊びの順で過ごした一週間を表している．
    大学生活とは上述の選択肢$M$から生成されるモノイドである．
\end{rei}

この事例は，人生が日々の限られた選択から生成されていく様子をモデル化している．
これは自由モノイドだろうか？
自由モノイドであれば，事例\ref{rei:free_monoid}で一度繋げた文字が取り消せなかったように，一回した選択は取り消しができない，つまり過去を変えることはできない．
一方，自由モノイドでなければ，過去の挽回が可能である．
例えば$ssp = s$という関係性（これは上のモノイドとは別の公理として導入されることになる）は，一日遊んだ後に二日続けて勉強すればそれを帳消しにできる，ということを述べている．

ここではさしあたり，人生とは自由モノイドであると仮定しよう．
今，月曜から木曜までを$rppp$と遊び呆けて過ごしたとする．
このとき，どのように残りを過ごしても，月曜日に遊びに行った事実は変えられない，つまりここから$rpps$という「人生」には到達できない．
ここから，自由モノイドには「元$m$は元$n$から生成可能である」という半順序$n \preceq m$が定義できることがわかる（これが半順序であることを確認せよ）．
この半順序は図\ref{fig:monoid_tree}のような木構造をなす（ここではスペースの制約のため「遊ぶ」と「勉強」という二つの選択肢のみを描いている）．
この木構造は，自由モノイドによって生成される可能性の一つ一つを，根本から葉先まで続く一本の枝として表している．

\begin{figure}[h]
    \centering
    \begin{tikzpicture}[
        grow'=up,
        level 1/.style={sibling distance=4cm},
        level 2/.style={sibling distance=2cm},
        level 3/.style={sibling distance=1cm}
      ]
      
      \node[circle, draw, fill=white, inner sep=2pt] {}
        child {node {$p$}
          child {node {$pp$}
            child {node {$ppp$}}
            child {node {$spp$}}
          }
          child {node {$sp$}
            child {node {$psp$}}
            child {node {$ssp$}}
          }
        }
        child[line width=2pt]  {node {$s$}
          child[line width=2pt] {node {$ps$}
            child {node {$pps$}}
            child[line width=1pt] {node {$sps$}}
          }
          child[line width=1pt]  {node {$ss$}
            child {node {$pss$}}
            child {node {$sss$}}
          }
        };
      \end{tikzpicture}
      \caption{人生モノイドに対応する半順序．ここではスペースの制約のため，選択$p, s$のみを考慮し，3日間のみの分岐を表している．それぞれの枝は異なった「3日分の過ごし方」を表している．太線は遊び・勉強・勉強と過ごした3日間である．2日目の$ps$の時点で，他の6つの可能性は閉ざされている．}
      \label{fig:monoid_tree}
\end{figure}

\begin{renshu}{}{}
    上では人生を自由モノイドとしてしまったが，それは本当にそうなのだろうか．
    自由モノイドでない人生モデルは，人生をどのようなものとして捉えることになるだろうか．
    またそのとき，上で定義した生成可能関係は半順序をなすだろうか．
\end{renshu}    


\section{可換性}
上で見てきたようにモノイドには様々なものがあるが，その中で一番重要な区分は，それが可換であるか否か，というものである．
モノイド$M$が\emph{可換}(commutative)であるとは，その積の結果が順序によらないこと，つまり任意の2つのモノイド元$m,n \in M$について$m \circ n = n \circ m$がなりたつことをいう．
そうならないものが一例でもあるときは，非可換(noncommutative)であるという．

\begin{rei}{}{}
    足し算や掛け算は可換性が満たされる典型例である（任意の数につき$m+n = n+m, m\cdot n = n\cdot m$）．
    一方，$n \times n$行列の集合は行列積と単位行列$I$によりモノイドをなすが，これは可換性を満たさない（2つの行列$A, B$について一般に$AB \neq BA$）．
\end{rei}


足し算や掛け算に慣れ親しんだ身には，可換性は極めて一般的な性質に映るかもしれない．
しかし上述の定義の通り，それは非常に強い性質である．
モノイドとして表されるような現実世界の「作用」に目を向けると，多くの場面において可換性は必ずしも成立しない．
例えば上の事例で見た自由モノイドによる記号列の生成（\ref{rei:free_monoid}）やロボットのプログラム（\ref{rei:robot_program}）は明らかに非可換である．
非可換性を証明するためには，モノイド元のうち，$m \circ n \neq n \circ m$であるようなものを一組でも見つければ良い．


\begin{rei}{心的刺激と料理，再び}{}
    \begin{enumerate}
        \item 事例\ref{rei:psychological_stimuli}で見た心的刺激モノイドは，明らかに可換ではないだろう．というのも，痛みを感じてから熱さ感じることと，その逆とは明らかに別の感覚刺激だからだ
        \item 事例\ref{rei:cocking}で見た料理モノイドも，明らかに可換ではない．実際，この非可換性をしっかりと認識すること（下味をつけて焼くことと焼いてから味付けすることの違いを認識すること）が料理上手への第一歩である．        
    \end{enumerate}
\end{rei}


\begin{renshu}{}{}
    事例\ref{rei:life_monoid}の人生モノイドは可換だろうか，非可換だろうか．理由も含めて考えよ．
\end{renshu}

\begin{renshu}{}{}
 全体として非可換なモノイドであっても，特定の元の積では可換性が満たされうる．事例\ref{rei:robot_program}において，その実行結果（動作ではなく）が(i)非可換，(ii)可換となるようなプログラム元のペアをそれぞれ挙げよ．
\end{renshu}

\begin{renshu}{}{}    
    数学以外の事例で，可換／非可換モノイドによってモデル化できそうな現象をそれぞれ一つ挙げよ．その場合の合成と単位元がそれぞれ何に相当するのかを明示すること．
\end{renshu}    

ところで我々はすでに4章で，束の準同型写像を写像と演算（結び・交わり）可換性によって特徴づけたのだった．
そこでの可換性と，モノイドの可換性，関係はあるのだろうか？
もちろんある．
可換モノイドとは，以下の可換図式がすべての元$m,n \in M$に対して成立することにほかならない：
\[
\begin{tikzcd}
M \arrow{r}{m} \arrow[swap]{d}{n} 
& M \arrow{d}{n} \\
M \arrow{r}{m} & M
\end{tikzcd}
\]
つまり任意の$M$の元に対して，時計回りに$n \circ m$と合成しても，反時計回りに$m \circ n$と合成しても結果は同じ，ということだ．



\section{準同型写像}
本講ではこれまで，何らかの数学的構造を定義した際には，必ずその構造同士を対応させる，ないしその構造を保存する写像を考えてきた（e.g. 束準同型，連続写像等）．
同じように，モノイド間の構造を保つ写像を考えよう．
実際，我々は上で，モノイドの例として足し算と掛け算があることを見たが，これは別の言い方をすれば，足し算と掛け算はモノイドとして見れば同じ構造を持つ，ということである．
両モノイドを橋渡しする関係性，つまり足し算を掛け算へとシステマティックに変換するルールが，モノイド間の準同型写像である．

\begin{dfn}{モノイド準同型}{}
    2つのモノイド$(M, \circ, i), (M', \circ', i')$が与えられているとき，写像$f:M \to M'$で，任意の$m,n \in M$について次を満たすものを，$M$と$M'$の間の\emph{準同型写像}(homomorphism)という：
    \begin{enumerate}
        \item モノイド演算を保存する: $\ \ \ f(m \circ n) = f(m) \circ' f(n)$
        \item 単位元を単位元に送る: $\ \ \ f(i) = i'$
    \end{enumerate}
\end{dfn}

束準同型と同様に，この定義はモノイド間写像$f$がモノイド演算$\circ$と可換であることを要求している：
\[
\begin{tikzcd}
m, n \arrow{r}{f} \arrow[swap]{d}{\circ} 
& f(m), f(n) \arrow{d}{\circ'} \\
m \circ n \arrow{r}{f} 
& \begin{array}{c} f(m) \circ' f(n) \\ = f(m \circ n) \end{array}
\end{tikzcd}
\]
つまり$M$上で積を計算して$f$で$M'$へと飛ばしても（反時計回り），まず$M'$に飛ばしてから$M'$上の積$\circ'$を計算しても，結果は同じということだ．
モノイドの構造はその演算のあり方によって決定されるのだから，このように作られた準同型写像はモノイドの構造をしっかり保っているといえる．

ではゼロ以上の実数$\bbR^+ := \{x \in \bbR | x \geq 0 \}$上の足し算と掛け算のモノイドを例にとり，実際にこのような写像を構成してみよう．
つまり$M := (\bbR^+, +, 0), M' := (\bbR^+, \times, 1)$としたときの準同型$f:M \to M'$を見つけたい．
それは無数にあるのだが，一つの例として関数
\[ 2^{()} :: m \mapsto 2^m \]
を考えてみよう．
まずこれは$m \in \bbR^+$から$2^m \in \bbR^+$への関数になっている．さらに
\[ 2^{m + n} = 2^m \cdot 2^n \]
なので，和を積へとしっかりと移している．
これを「2を底とする指数関数」という．
2に限らず，$a>0$を底とする指数関数はすべて足し算としての非負実数から掛け算としての非負実数への準同型を与える．
%一般に指数関数(exponential function)といわれるときは底としてネイピア数$e\approx 2.718$をとる$e^{()}$を指す事が多い．これは$\exp()$とも表される．
特に底としてネイピア数$e\approx 2.718$をとるものを単に指数関数(exponential function)とよび，$\exp()$と表す．

\begin{rei}{}{nr_inclusion}
    我々は上で，自然数$\bbN$上の足し算と非負実数$\bbR^+$上の足し算はともにモノイドであると述べた．これらの間にも準同型がある．いま埋め込み$i:\bbN \to \bbR^+$を，$i(m)=m$で定義する．つまり$i$はある数$m$をとって同じ数$m$を返す．ただしここで入力される数$m$は整数であるが（つまり$m \in \bbN$），出力される数$i(m)$は実数として解釈されている（つまり$i(m) \in \bbR^+$）点に注意しよう．
    当然$i(m+n) = i(m)+i(n)$となり，この関数は足し算を保存するので，準同型写像である．
\end{rei} 

\begin{rei}{}{}
    事例\ref{rei:life_monoid}の人生モノイド$M$の縮小版として，(1)がんばる, (2)がんばらない，という2つの選択肢と単位元($i$)のみから生成される自由モノイド$M'$を考える．
    $M$から$M'$への関数$f$は，$M$の元に現れる「勉強する($s$)」「バイトする($w$)」を(1)に，「遊ぶ($p$)」「休む($r$)」を(2)に置き換えるものとすると，これは$M$から$M'$への準同型写像となる．
    例えば，$f(psr) \circ (rwp) = 212 \circ' 212 = 212212 = f(psrrwp) = f(psr \circ rwp)$である．

    （ところで自由モノイドは半順序を定義するのだった．$M$から$M'$へのモノイド準同型があるとき，そこから得られる半順序の間にはどのような関係があるか，考えてみても面白いかもしれない．）
\end{rei}


\begin{renshu}{}{}
    $(\bbN, +, 0)$から$(\bbR^+, +, 0)$への準同型写像には埋め込み以外にも沢山ある．その例を考えてみよう．
\end{renshu}


またこれまでと同様，モノイド$M, N$の間の準同型写像$f:M \to N$が全単射であるとき，$f$は\emph{同型写像}(isomorphism)といわれる．
$M$と$N$の間に同型写像があるとき，両者はモノイドとして\emph{同型}(isomorphic)といわれ，これを$M \sim N$と書く．
ちなみにこのとき逆写像$f^{-1}:N \to M$も$N$から$M$への同型写像になっている．


\begin{rei}{}{}
    $\exp():\bbR^+ \to \bbR^+$の逆写像は，（$e$を底とする）対数関数$\log()$である．
    $\log(x)=y$とは，$e$を$y$乗すると$x$になる，ということを意味する．
    よって任意の$x\in\bbR^+$につき，$\log(\exp(x))=x$であり，$\exp(\log(x))=x$. また
    \[ \log(x \cdot y) = \log(x) + \log(y) \]
    かつ
    \[ \log(1) = 0 \]
    より，$\log$は掛け算$(\bbR^+, \times, 1)$から足し算$(\bbR^+, +, 0)$への準同型写像になっている．

    一方で$(\bbN, +, 0)$と$(\bbR^+, +, 0)$の間には，当然全単射は存在しない．特に，事例\ref{rei:nr_inclusion}で見た埋め込み準同型は同型写像ではない．
\end{rei}


モノイド同型$M \sim N$はモノイド間の同値関係である．
まず恒等写像$i::m \mapsto m$はモノイド同型なので$M \sim M$．
また上に述べたように，$f:M \to N$が同型写像（つまり$M \sim N$）なら$f^{-1}:N \to M$が同型写像なので$N \sim M$．
そして$f:M \to N, g:N \to O$がそれぞれ同型写像なら，合成$gf:M \to O$も同型写像になる（気になる人は調べてみよう），つまり$M \sim N, N \sim O$なら$M \sim O$．

\begin{rei}{}{}
    事例\ref{rei:free_monoid}で扱った文字列のモノイドと，事例\ref{rei:robot_program}で見たロボットのプログラムは同型である．実際，前者をそのままロボットの動作プログラムと見ることができるし，また後者の動きから文字列を得ることができる．
\end{rei}

\begin{renshu}{}{}
    ロボットプログラムと人生モノイド（事例\ref{rei:life_monoid}）の間に同型写像を作ることはできるだろうか．準同型写像はどうだろうか．
\end{renshu}

\begin{renshu}{}{}
モノイド準同型は前順序となることを示せ．
\end{renshu}


\begin{rei}{心の機能主義}{functionalism}
    心の機能主義(functionalism)によれば，心的状態は何らかの神経生理学的機能と同一視できる．この見方によれば「痛み」という質的な感じは，鋭い物理的刺激に対する神経生理学的反応の心的対応物に他ならない．これをモノイド準同型の観点からモデル化してみよう．

    $M$を事例\ref{rei:psychological_stimuli}で見たような心的刺激からなるモノイドとする．$M$の元は，「痛み」や「熱さ」など，人の心に生じる様々な心的刺激からなるのであった．
    一方で，人の脳に生じるさまざまな物的刺激の集合を$P$とすると，これも同様の理由からモノイドを構成する．$P$の元は神経科学的な様々な刺激であり，その積は，一つの刺激の後に別の刺激が生じることだと定める．また任意の「瞬間」を$i_P$で表せば，瞬間はいかなる物的刺激も変化させない$i \circ p = p \circ i = p$ので，それが$P$の単位元となる．

    心の機能主義によれば，あらゆる心的刺激は，脳における何らかの物理的刺激によって実現される．
    つまり，$P$から$M$への全射$f: P \to M$が存在する．
    しかし機能主義は複数の異なる物理刺激$p \neq p'$が同一の心的刺激$f(p) = f(p')$を引き起こすことを認めるので，$f$は単射ではない（つまり2章事例7.2の用語に従えば，心的刺激は物的刺激にスーパービーンする）．

    さらに，この全射$f: P \to M$は，モノイド準同型でなければならないだろう．
    まず，物理的な瞬間$i_P$を感じることはできないので，$P$の単位元は$M$の単位元に飛ばされる．
    そして，任意の物的刺激$p, p'$に対して，それを逐次的に合成した刺激$p' \circ p$に対応する心的感覚$f(p' \circ p)$は，それぞれの物的刺激が引き起こす心的感覚$f(p'), f(p)$を逐次的に合成したもの$f(p') \circ f(p)$と等しくなければ，整合性が取れない．
    
    したがって，心の機能主義とは，物的モノイド$P$から心的モノイド$M$へのモノイド準同型として表される．ちなみに$f$が全単射（つまり同型）である場合，両者は完全にパラレルであることになる．これを心脳同一説(mind-brain identity theory)という．
\end{rei}





\section{モノイド作用}
本講ではこれまで，足し算や「選択」など，抽象的な操作や動作としてのモノイドの側面を強調してきた．
この節では視点を変えて，そのような操作によって何らかの\emph{対象がどう変化を受けるか}，という側面に目を向けてみたい．
例えば事例\ref{rei:robot_program}で見たロボットのプログラムでは，動作によってロボットの現在位置が変化していくはずだ．
また人生モノイド（\ref{rei:life_monoid}）においては，選択によってあなた自身の状態が変わっていく．
モノイドは，このようにある対象について作用を加えたときにその状態がどう変遷していくか，というダイナミックな過程をモデル化するためにも用いられる．
その鍵になるのが，\emph{モノイド作用}(monoid action)の概念である．

モノイド作用とは，簡単にいえば，モノイドの元$m \in M$を対象となる系の状態$X$からそれ自身への関数$m:X \to X$とみなす，ということである．
例としてロボットの状態の集合$X$を考えると，前進したり向きを変えたりといったモノイド元の一つ一つは，こうした状態を更新する関数であるといえる．
なのでここには二つの段階がある．
一つ目は，ロボットに与える命令／モノイド元$m \in M$を一つ選ぶこと．
二つ目は，それをロボットの現在の状態$x \in X$に適用して，新しい状態$m(x)$を得るということだ．
これはつまり，$M \times X \to X$という2項関数を考えるということにほかならない．
そして当然この作用は，モノイドの演算と整合的であってほしい．
これらを全部表現すると，以下のようになる．

\begin{dfn}{モノイド作用}{}
 $(M, \circ, i)$をモノイド，$X$を集合とする．
 モノイド$M$の集合$X$への（左）\emph{$M$-作用(M-action)}とは，写像
 \[
  M \times X \to X, \ \ \ \ (m, x) \mapsto mx
 \]
 であり，以下を満たすものである：
 \begin{enumerate}
  \item 任意の$x \in X$について，$ix = x$.
  \item 任意の$m, n \in M$と任意の$x \in X$に対して，$m(nx) = (mn)x$.
 \end{enumerate}
 モノイド$M$が$X$に作用していることを，$M \curvearrowright X$と表すこともある．
\end{dfn}
上の要件1は，単位元$i$が状態を何も変化させない恒等写像$i(x)=x$であることをいっている．
要件2は，モノイド元の結合が写像の合成になっており，ある状態$x$に$n$を作用させてから$m$を作用させた結果と，モノイドの側で最初に合成した作用$mn$を$x$に作用させた結果とが等しくなる，ということを述べている．


\begin{rei}{関数のモノイド作用}{function_monoid}
    $X$を集合とする．$F$をその集合上の関数$f: X \to X$からなり，かつ次のような条件を満たす集合として定める：
    \begin{enumerate}
        \item $F$は恒等写像$i:: x \mapsto x$を含む．
        \item もし$f, f' \in F$なら，その合成写像$f \circ f'$も$F$に含まれる.
    \end{enumerate}
    このとき，$F$は$X$に作用するモノイドとなる．
    というのも，任意の$f \in F$について，$i \circ f = f \circ i = f$なので，恒等写像$i$は単位元．また関数の合成は結合的なので（2章5節），$F$はモノイドである．
    また任意の$x\in X$および$f, f' \in F$について，
    \begin{enumerate}
        \item 恒等写像の定義より，$ix = x$.
        \item 関数の合成の定義より，$f \circ f' (x) = f(f'(x))$.
    \end{enumerate}
    なので，モノイド作用の2要件を満たす．
\end{rei}


    

\begin{rei}{魂の永遠性と身体への受肉}{cogito_action}
    事例\ref{rei:cogito}では，デカルト的コギトをモノイドとしてモデル化した．
    デカルトによれば，コギトは精神的存在である．しかしそれは松果腺を通じて物理的に作用し，我々の体を動かす．
    いま$X$を特定の身体の様々な状態からなる集合としたら，これはコギトモノイド$M$による$X$へのモノイド作用として理解できる．

    コギトの精神的活動$m \in M$は，身体活動$m: X \to X$として物理的世界に表現され，それによって我々は自分自身のコギトについて知ることができる．
    しかしデカルトが強調するように，精神的なコギトとその物理的表現を同一視してはならない．
    第六省察において彼は，我々の精神が「まったく一なるものであり，全体的なものである」のに対し，身体は部分的であること，よって仮に身体の部分が一部欠損しても，「そのために精神から何ものかがとり去られるわけではない」ことを強調する．これは，仮に身体$X$が欠損することでその部分$X' \subset X$が残ったとしても，$X'$に対する$M$作用は依然として問題なく定義されること，そしてその場合でもコギトモノイド$M$自体は以前と同様のままとどまるということだと理解できる．
    またこうした欠損の極端なケースとして，作用される身体$X$が消滅する，すなわち空集合に帰着する場合でも，モノイド$M$自体は依然として考えられる．
    このように，魂の永遠性は，物理的世界へのモノイド作用$M \curvearrowright X$とモノイド$M$自体との区別として理解できる．
\end{rei}    

\begin{rei}{多重人格と輪廻転生}{split_personality}
    上の事例ではコギトモノイド$M$の身体$X$への作用として人間を捉えたが，ここで$M$や$X$が一つでなければならない理由はどこにもないことに注意しよう．
    例えば，複数のコギトモノイド$M_1, M_2, \dots, M_n$が，同一の身体に（おそらく代わり代わりに）作用する，ということも考えられる．
    解離性同一性障害（多重人格）では，あたかも独立した人格が同じ身体に宿ったかのような状況が生じるが，これはこうした複数のモノイドによる同一の対象への作用と捉えられるかもしれない．

    一方，同じモノイド$M$が複数の身体$X_1, X_2, \dots, X_n$に作用するようなSF的状況も考えられる．
    例えばもし我々の脳から信号を取ることで，メタバース（仮想空間）上のアバターを直接動かせるようになったとしたら，同一のモノイドが物理身体$X$とメタバース上の身体$Y$に同時に作用する，ということになるだろう．
    また仏教などでいわれる輪廻転生は，同じコギトモノイド$M$が異なる時間・場所における物理的身体$X_1, X_2, \dots$に作用することだと考えることができるだろう．
\end{rei}

\begin{rei}{ロボットへのモノイド作用}{robot_monoid_action}
    より具体的なモノイド作用として，ロボットの事例\ref{rei:robot_program}をとりあげよう．
    プログラムは一歩前進する($f$)・右を向く($r$)・左を向く($l$)・何もしない($i$)の4つの動作から生成されるのだった．
    これによって変化するロボットの状態は，その平面上の位置と東西南北の向きである．
    前者は整数の組$(a, b) \in \bbZ \times \bbZ$，後者は東西南北で表すことができるだろう．
    これらを合わせてロボットの状態集合は$X = \bbZ \times \bbZ \times \{w, e, s, n\}$と定義できる．
    
    いま現在のロボットの状態を$x = (a, b, d)$とし，これに前進する$(f)$というモノイド元を作用させると，次の状態は$fx$となる．$a$要素についてこれを具体的に書くと，次のようになるだろう．
    \[
    f(a) = \begin{cases}
        a + 1 & \text{if } d=w, \\
        a - 1 & \text{if } d=e, \\
        a & \text{otherwise}.
    \end{cases}
    \]
    つまりロボットが東を向いているときは東に，西を向いているときは西にそれぞれ一歩進み，南面・北面しているときは$a$座標は変わらない．
\end{rei}

\begin{renshu}{}{}
    同様に，$f(b), f(d), r(a), r(b), r(d), l(a), l(b), l(d)$がどのように計算されるかを示し，モノイド作用の全貌を明らかにせよ．
\end{renshu}

このロボットの例のように，作用モノイドが有限の元（ここでは$f, r, l, i$）から生成される場合，生成元の作用のみを定めれば，モノイド全体の作用が定まる．
というのも，モノイド作用の要件2より，合成された作用の結果は，各作用を繰り返し適用することで得られるからだ．
例えば$ffrl(x) = f(f(r(l(x))))$のように求めることができる．


\begin{hatten}{モノイド作用の同一性}{equiv_action}
    上の作用の定義から明らかなように，同一の作用を引き起こす異なったプログラムがありえる．
    例えば「斜め右に移動して再び同じ方向を向く」という動作にしても，前進・右向・前進・左向($lfrf$)，右向・前進・左向・前進($flfr$)の他，任意の場所で何回も休み($i$)を入れたり，寄り道してから行ったり・・・と無数の方法がある．
    そこで，複数のプログラムを，結果の等しさの観点で同一視することを考える．
    任意のプログラムモノイド$m,n \in M$が同じ結果をもたらすとき，$m \sim n$と書く，つまり
    \[ m \sim n  \iff \forall x \in X (n(x) = m(x)). \]
    すると$m$と同じ結果をもたらすプログラムの同値類が
    \[ [m] := \{n \in M: n \sim m \} \]
    と定まる．この同値類$[m]$に含まれるプログラム元は，実際のロボットの動きは異なるものの，その動作の結果は最終的に皆等しくなる．

    このような同値類で割った$M/\sim$が，再びモノイドになることを示そう．
    まず積を$[m]\circ[n] = [mn]$として定義すれば良さそうだが，そのためにはこれが一意に定義される（well-defined）ことを示さなければならない．
    というのも$[m], [n]$はそれぞれ$m,n$以外にも様々なモノイド元を含む同値類であるが，そのうちどの元を取るかで右辺が変わってしまっては$[m]\circ[n]$を一つに定められないからだ．
    そこで，任意の$m' \sim m, n' \sim n$をとる．
    その上で$m'n' \sim mn$，つまり任意の$x \in X$について$m'n'(x) = mn(x)$がいえれば良い．
    しかし今$n' \sim n$より$n'(x) = n(x)$であり，また$m' \sim m$より$m'(n'(x)) = m(n(x))$である．
    よって$m'n'(x) = mn(x)$が成立するため，$[mn] = [m'n']$．
    したがって$[m]\circ[n] = [mn]$と一意に定義することができる．
    このモノイドの単位元は明らかに状態を変えない$[i]$であり，また結合律$[m]\circ([n]\circ[l]) = ([m]\circ[n])\circ[l]$は任意の$m \in [m], n \in [n], l \in [l]$に対して結合律が成り立つことから従う．
    以上から$M/\sim$がモノイドとなることが示された．
    
    $M$同様，$M/\sim$も$X$への作用$M/\sim \times X \to X$を与える．
    任意の$m \in M$に対し，作用$[m]$は状態$x \in X$を$[m](x)$へと変化させるが，これは$m(x)$に等しく，また同値類の定義より任意の$m' \sim m$に対して$m'(x)$と等しい．
\end{hatten}

\begin{renshu}{}{}
    以下の同値類に属する$M$の元をそれぞれ3つ挙げよ．
    \begin{enumerate}
        \item $[f]$
        \item $[r]$
        \item $[fifrfl]$
    \end{enumerate}
\end{renshu}


以上では命令によって状態が変わる様をモノイド作用としてモデル化したが，より能動的に，エージェントが動作や外からの刺激によって状態を変えていく様を表現することもできる．

\begin{rei}{状態遷移}{life_monoid_action}
    事例\ref{rei:life_monoid}で日々の選択を考えたが，こうした選択は当然動作主であるあなたの状態を変化させるだろう．その変化をモノイド作用としてモデル化してみよう．
    主体の精神状態として，(0)疲労，(1)やる気，(2)充実，の3つを考える．
    ($p$)遊ぶ，($s$)勉強する，($w$)バイトに行く，($r$)休むという4つの作用によってこれらの状態がどう変わるかは，以下のような表で表すことができる．
    \[
        \begin{array}{c|cccc}
               & p & s & w & r \\ \hline
             0 & 1 & 0 & 0 & 1 \\
             1 & 0 & 2 & 0 & 1 \\ 
             2 & 1 & 0 & 0 & 1 \\
        \end{array}
    \]
    表の各エントリーは，一行目の各作用が，一番左端に示される状態に作用したときに変化する先の状態を示している．
    例として一番左の列を考えると，これは遊ぶ($p$)という作用は疲れているときはやる気に，やる気のときは疲れに，充実しているときはやる気にへと状態を変化させる，ということを表している．
    なお単位元$i$はいかなる状態についても$ix = x$と変えないので省略してある．
    また上のロボットの例と同様，これら4つの元から生成されるすべてのモノイド元の作用は，一つ一つの作用の逐次的な適用によって得られるため，この表だけでモノイド作用全体が定まる．
\end{rei}

ちなみに同様の演算は，図\ref{life_state}のような\emph{状態遷移図}(state transition diagram)によっても表すことができる．
状態集合を持ち，その間の状態遷移関係が定まっているようなシステムを，\emph{オートマトン}(automaton)という．
オートマトンは，状態集合へのモノイド作用として考えることができる．

\begin{figure}[t]
    \begin{center}
        \begin{tikzpicture}[node/.style={draw, circle, inner sep=6pt}]
          \node[node] (0) {$0$};
          \node[node, right = 2cm of 0] (1) {$1$};
          \node[node, right = 2cm of 1] (2) {$2$};
    
          \path[->, >=stealth]
            (0) edge[loop above, in=60, out=120, looseness=6] node{$s, w$} (0)
            (0) edge[above, bend left = 20] node{$p, r$} (1)
            (1) edge[loop above, in=60, out=120, looseness=6] node{$r$} (1)
            (1) edge[below, bend left = 20] node{$p, w$} (0)
            (1) edge[above, bend left = 20] node{$s$} (2)
            (2) edge[below, bend left = 20] node{$r$} (1)
            (2) edge[below, bend left = 40] node{$p, s, w$} (0); 
        \end{tikzpicture}
      \end{center}
      \caption{精神状態の遷移図．それぞれのノードから$p,s,w,r$の4つの経路が出ていることを確認せよ．}
      \label{life_state}
\end{figure}

% \begin{rei}{能産的自然と所産的自然}{naturans_naturata}
%     中世から近世の哲学者は，自然の二つの様相を区別した．    
% \end{rei}

\begin{rei}{モナド}{monad}
    ライプニッツによれば，人や動物や石ころを含むすべての実体は，彼が「モナド」\footnote{
    ややこしいことに，「モナド」という数学的概念がある（しかもそれはモノイドと関わりが深い）のだが，ここでのモナドはあくまでライプニッツの哲学的概念であるモナドを指している．}と呼ぶところのものである．
    モナドは表象を持ち（『モナドロジー』14），それが刻々と変化するが，その変化は内部のみからくる（「モナドは窓を持たない」; 同7）．
    一つの表象から他の表象への変化を引き起こす内的原理のはたらきを，欲求という（同15）．
    ここからモナドは，「非物体的なオートマトン(des Automates incorporels)」とも呼ばれる．
    そこで$X$を表象の集合，$M$を欲求の集合としよう．すると各々のモナドは，$M$の$X$への作用として考える事ができる．

    個体・モナドには，精神だけでなく物体的側面もある．モナドの身体的状態の集合を$Y$としよう．そして$M$の$Y$への作用を考える．
    $X$と$Y$は異なる集合なので，同じ$m \in M$であっても，それが精神・物体に与える影響は質的に異なるだろう．
    つまり「魂には魂自身の法則がある，体にも，体自身の法則がある」（同78）．
    しかし両者はともに$M$の作用であるという点において，シンクロしている．これがライプニッツの言う\emph{予定調和}である．

    神自身も一つの原初的なモナドであり（同47），個々のモナドはそれを不十分な形で表現した「似姿」であると言われる（同83）．
    そこで神のモナドを$\mathbf{M}$とする．このモナドは個々の$X$や$Y$を含む世界全体の集合$\mathbf{W}$に作用していると考えるのが適当であろう．個々のモナド$X$が神のモナドを表現するとは，$\mathbf{M}$から$X$へのモノイド準同型写像があることだと考えることができる．これによって各モナドは，不完全な形であれ，神のモナドから派生したものになっている（同47）．
    このように神から派生したモノイド作用が，世界の部分としての状態$X, Y$に作用することをもって，それぞれのモノイド作用を，「ただ一つしかない宇宙をそれぞれの視点から眺めたさいに生ずる，さまざまな眺望」（同57）と解釈することができる．
    
    またさらにこれによって，なぜ「モナドに窓がない」かも明らかである．つまり，個々のモナド／モノイド$M_i, M_j$は神のモナド／モノイド$\mathbf{M}$の準同型ではあるが，だからといってそれぞれの間に準同型があることは保証されない．
    それゆえ「あるモナドが他のモナドにおよぼす作用は，たんに観念的なものであって，それも神の仲だちがなければ，効果をもつことはできない」（同51）．
    つまりそれぞれのモノイド作用は，あくまで神のモノイド作用の部分として生じるのである．
\end{rei} 


\begin{rei}{科学理論：状態空間と法則}{theory}
    事例\ref{rei:function_monoid}では，集合上の関数がモノイド作用を形成することを見た．
    これはそのまま，科学理論のモデルとなっている．

    一般的に，科学理論には二つのコンポーネントがある．一つはその理論において，どのようなものが「状態」として想定されているのかを表す\emph{状態空間}(state space)であり，もう一つはそうした状態間の遷移関係を定める\emph{法則}ないし遷移法則(laws of succession)である．
    （さらに，どのような状態が可能かを定める制約法則constraint lawを考えることもあるが，これは単に可能な状態空間$X$をその部分$X' \subset X$へと制約するだけなので，ここでは割愛する）
    
    ここでは理論の状態空間を$X$，法則の集合を$M$で表す．
    一つ一つの法則$m \in M$は，任意の状態について，それがどの状態へと移り変わるかを指定する，つまりそれは関数$m: X \to X$である．これらの法則は，関数の合成によってモノイド積となる．
    したがって一つの理論は，その状態空間$X$に対する法則モノイド$M$の作用$M \curvearrowright X$によって表される．

    理論の法則モノイド$M$がただ一つの法則$m$のみから生成される場合，その理論を\emph{決定論的}という．
    その場合，$M$に含まれるのは$i, m, m\circ m, m \circ m \circ m, \dots$など，$m$を繰り返したもののみになる．
    これによって，任意の状態$x$について，その遷移は$x, m(x), m(m(x)), m(m(m(x))), \dots$のように一意に決定される．
    例えば2章で見た力学系は，系の状態$X$の時間発展が一つの遷移関数$m:X \to X$のみから決まっていたので，決定論的である．
    
    それに対し，生成元が二元以上あるモノイドの作用は，非決定的な時間発展をモデル化している．
    この場合，異なる生成元$m \neq m'$は，それぞれ異なった$X \to X$の関数，つまり状態空間の発展の仕方を与える．
    この場合，次の状態は，現在の状態だけでなく，どの法則が適用されるかにも依存する．
\end{rei}


% 没：アリストテレス的なシステムでは，法則が個々のモノに根ざす，というところがむしろ本質的
% \begin{rei}{目的論的システム}{teleology}
%     アリストテレスは，それぞれの事物は固有の運動原理を有すると考えた．
%     例えば重いもの（土の元素を持つもの）はその本性から，下に向かう傾向がある．このように事物の本性から生じる運動は，自然的(natural)と言われる．
%     一方，他の事物から力を受けて生じる運動（例えば上に投げられる等）は，強制的(forced)と言われる．
%     事物固有の本性から生じる自然的運動は決まった方向性と到達点(telos)を持ち，その場所において，その事物は（他の強制力を受けない限り）運動をやめる．
%     例えば重いものの到達点は地球の中心であり，そこに到達すると運動をやめる．逆に，他のものに妨げられない限り，それは中心へと向かい続ける（図\ref{fig:teleology}）．
%     運動に対する「自然な方向」を措定するという点で，アリストテレス力学は目的論的であるといわれる．
%     ここでは上の事例\ref{rei:function_monoid}を応用して，目的論的な理論を特徴づけてみよう．

%     理論の状態集合$X$の部分集合$G \subset X$をとる．
%     この集合に応じて，理論の法則$F$の部分集合$F_\text{nat} \subset F$を以下のように定める
% \[ f \in F_\text{nat} \iff \exists g \in X (\forall x \in X \lim_{n \to \infty} f^n(x) = g )\]
%     ただし$f^n$は$f$を$n$回繰り返した積である．
%     つまり任意の状態に対し，$f$を繰り返し適用していった際，それが何らかの到達点$g$に到達するのであれば，$f$は$F_\text{nat}$の一員である．このように定義された$F_\text{nat}$は，自然的な運動を表している．
    
%     このようにアリストテレスは，事物の状態（アリストテレスにとって，物理的事物の状態とは位置である）に働く作用は，自然力／強制力の2種に分別されると考えた．
%     つまり，作用するモノイド$M$の元には自然$(N)$／強制$(F)$の2種類があり，何が自然とみなされるかは個物の本性によって決まってくるということだ．
%     （本講では扱ってないが，このとき，$N, F$は$M$の部分モノイドとなる．）
%     そして自然なモノイド作用は，事物をその「本来の場所」である到達点に運んでいく．こうした到達点を\emph{アトラクター}(attractor)という．
%     到達点は，それ以上の自然モノイド作用によって変化しないという意味で，$N$の\emph{不動点}(fixed point)になっている．
%     つまり目的とは自然モノイド作用のアトラクター／不動点である．    
% \end{rei}

% \begin{figure}[t]
%     \begin{center}
%         \begin{tikzpicture}[node/.style={draw, circle, inner sep=2pt}]
%         \begin{scope} 
%           \node (0) {$t$};
%           \node[node] (10) at (-.5, 1) {};
%           \node[node] (11) at (0, 1.1) {};
%           \node[node] (12) at (.5, 1) {};
%           \node[node] (20) at (-1, 2) {};
%           \node[node] (21) at (0, 2.2) {};
%           \node[node] (22) at (1, 2) {};
%           (0) edge[loop below, in=60, out=120, looseness=6]  (0)
%           \path[->, >=stealth]
%             (21) edge (11)
%             (11) edge (0)
%             (20) edge (10)
%             (10) edge (0)
%             (22) edge (12)
%             (12) edge (0)
%             (0) edge[loop below, in=-60, out=-120, looseness=5]  (0);
%         \end{scope} 
%         \begin{scope}[xshift=4cm]
%           \node (0) {$t$};
%           \node[node] (10) at (-.5, 1) {};
%           \node[node] (11) at (0, 1.1) {};
%           \node[node] (12) at (.5, 1) {};
%           \node[node] (20) at (-1, 2) {};
%           \node[node] (21) at (0, 2.2) {};
%           \node[node] (22) at (1, 2) {};
%           \path[<-, >=stealth]
%               (21) edge (11)
%               (11) edge (0)
%               (20) edge (10)
%               (10) edge (0)
%               (22) edge (12)
%               (12) edge (0);
%           \path[<->, >=stealth]
%               (22) edge[above, bend right = 15] (21)
%               (21) edge[above, bend right = 15] (20)
%               (12) edge[above, bend right = 15] (11)
%               (11) edge[above, bend right = 15] (10);
%         \end{scope} 
%         \end{tikzpicture}
%       \end{center}
%       \caption{アリストテレスによる，土の元素の自然運動（左）と強制運動（右）．自然運動は地球の中心$t$にアトラクターを持つ．}
%       \label{fig:teleology}
% \end{figure}

% 上の事例において，個物の運動としてのモノイド作用が2種類に分けられるということ，そして自然モノイド作用が個物の本性によって定まるということは，アリストテレスの目的論的な運動論にとって本質的である（逆にアリストテレスにとって，個物の本性とはそうした自然モノイドそのものであると言えるかもしれない）．
% ガリレオ以降の近代物理学は，アリストテレスによるこうした運動の二類型を破棄することで築かれた．


\begin{rei}{法則的還元と橋渡し法則}{reduction}
    理論間還元は，科学哲学における主要な関心の一つである．
    例えば，熱力学が統計力学に，あるいは心理学が神経科学に「還元される」と主張されるとき，それは何を意味しているのだろうか．

    上の事例\ref{rei:function_monoid}で確認したように，理論には状態空間$X$と法則モノイド$M$の二つのコンポーネントがある．それに準じて，還元する側の理論（便宜的にミクロ理論と呼ぶ）を$M \curvearrowright X$，還元される側の理論（マクロ理論と呼ぶ）を$N \curvearrowright Y$と表そう．
    このもとで，後者を前者に還元するためには，それぞれのコンポーネントを結びつければ良い．

    \begin{itemize}
        \item 状態空間については，2章事例7.2で見た，性質の付随(supervenience)関係が使える．マクロ理論の状態はミクロ理論の状態に付随する，すなわち全射$f: X \to Y$が存在する．任意のマクロ状態$y \in Y$に対し，そのファイバー$f^{-1}(y)$は，そのマクロ状態を実現するミクロ状態の集合である（例えば一定の温度$y$を実現する様々な分子の運動状態）．還元の文脈では，ミクロ状態をマクロ状態に対応させるこうした射影を，\emph{橋渡し法則}(bridge law)という．
        \item 法則間の関係についは，モノイドの間の写像なので，モノイド準同型$\phi: M \to N$を考えるのが妥当であろう．実際，もし二つのミクロ法則$m_1, m_2 \in M$がそれぞれ$\phi(m_1), \phi(m_2)$というマクロ法則に翻訳されるのであれば，逐次的な合成$m_2 \circ m_1$の翻訳$\phi(m_2 \circ m_1)$は，個別に翻訳されたマクロ法則の合成$\phi(m_2) \circ \phi(m_1)$に一致しているべきだ．
    \end{itemize}

    このように，各コンポーネント間の関係は付随（全射）とモノイド準同型で扱えるが，さらにこの二つの対応関係が，互いに整合的な形になっていることを要請しなければならない．
    つまり，単にミクロ状態がマクロ状態に，ミクロ法則がマクロ法則に対応しているだけでなく，両法則が両状態へと作用する仕方が，互いに一致している必要がある．
    そうでないと，両理論が予測する系のダイナミクスが，互いに不整合になってしまうだろう．
    この要件は，任意のミクロ状態・法則$x \in X, m \in M$に対し，次のような可換図式が成り立っていることとして表される．
    \[
    \begin{tikzcd}
    x \arrow{r}{m} \arrow[swap]{d}{f}  & mx \arrow{d}{f} \\
    f(x) \arrow{r}{\phi(m)} & \phi(m)f(x) = f(mx)
    \end{tikzcd}
    \]
    この図の上側は，ミクロ初期状態$x$が，その法則$m$の作用によって別のミクロ状態$mx$へと移る様を表している．
    一方下の$f(x) \to \phi(m)f(x)$は，対応するマクロ初期状態$f(x)$を，$m$に対応するマクロ法則$\phi(m)$によって遷移させた結果を表している．
    右下の等式は，この結果が，ミクロ理論における遷移後の状態$mx$を射影して得られたマクロ状態$f(mx)$と一致する，ということを求めている．
    この可換図式が成立するとき，ミクロ理論のダイナミクスは$f$と$\phi$によってマクロ理論へと整合的に移されている，つまり前者は後者をきちんと還元していると言うことができる．
    
    一般に，二つのモノイド作用$M \curvearrowright X$および$N \curvearrowright Y$に対し，それらを結ぶ写像およびモノイド準同型$f: X \to Y, \phi:M \to N$が上の可換図式を満たすとき，その写像を\emph{同変}(equivariant)と呼ぶ．
    ここで見たように，理論間の\emph{法則的還元}は，モノイド作用の間の同変写像の構築としてモデル化できる．
\end{rei}


\begin{renshu}{}{}
    モノイド作用もしくはオートマトンの例を挙げよ（自分で創作しても良い）．
    その際，モノイド元と状態集合，および作用の積表を明示すること．
\end{renshu}
    



\bibliographystyle{apalike}
\bibliography{m4p}

\end{document}