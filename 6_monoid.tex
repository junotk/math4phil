\documentclass[11pt,a4paper, dvipdfmx]{jsarticle}
\input{m4p_preamble.tex}


\usepackage{tikz}
\usetikzlibrary{intersections, calc, arrows, positioning, arrows.meta}

\begin{document}


\title{6. モノイド}
\author{2022秋期「哲学者のための数学」授業資料（大塚淳）}
\date{ver. \today}
\maketitle

\section{モノイドとは何か，なぜそれを学ぶのか}
前章で見た位相は，空間に関する幾何学的な概念であった．
一方本章の主題となるモノイドや群は，本質的に代数的な「計算」にまつわる概念である．
よって我々は，代数，幾何と来て我々は再び代数の世界に戻ってきた．

文系の学生にとって，「位相」という言葉は耳にしたことくらいはあっても，「モノイド」や「群」となると聞いたこともない，という人も多いかもしれない．
しかし実のところ我々は皆，小学生のころからモノイドや群に親しんでいる．
というのも，足し算や掛け算などはまさにこのモノイドや群の作用に他ならないからだ．
モノイドや群は，そうした四則演算を始めとした「演算」一般の最もプリミティブな形を抜き出したものと言える．
それ以外にも，モノイドは対象や系の変化・発展を表すために用いられるし，また群はモノの対称性（symmetry）の数学的な表現を与える．
そしてこの対称性という考え方は，物理学における「法則性」という考えを裏から支えるものであり，また哲学的には客観性の概念と深い結び付きを持っている．
こうしたことから，モノイドや群は非常に広範な科学的・哲学的含意を有している．

現代物理学を始め様々な科学で応用される群論は，極めて高度に発展しており，その全体像を掴むことを容易ではない．
しかしその基本的な考え方はこれ以上ないくらいシンプルである．
ここではその本質的な点のみに的を絞って紹介したい．
そこから得られるモノイドや群は，数学者や物理学者からしたらおもちゃみたいに簡単なものでしかないかもしれないが，その哲学的含意を考えるには十分であろう．

\section{モノイド}
まずはいつものように，集合をベースにモノイドを定義しよう．

\begin{dfn}{モノイド}
集合$M$上に，積と呼ばれる二項写像$\circ: M \times M \to M$が定義されており，以下の条件を満たすとき，組$(M, \circ, i)$を\emph{モノイド}(monoid)という．
\begin{enumerate}
 \item $M$の任意の元$l, m, n$に対して，結合律$(l \circ m) \circ n = l \circ (m \circ n)$がなりたつ．
 \item \emph{単位元}(identity element)と呼ばれる元$i \in M$が存在して，$M$の任意の元$m$に対して，$i \circ m = m \circ i = m$がなりたつ.
\end{enumerate} 
\end{dfn}

これだけである．
つまりモノイドとは，その2つの元$m,n$をある元$m \circ n$に対応させるモノイド演算$\circ$が備わっているような集合である．
公理1は，この演算が結合律を満たすこと，そして公理2はこの演算において「何もしない」単位元が存在することを言っている．
しばしば演算記号は省略され，$m \circ n$は$mn$のように書かれる．
また誤解が生じないときは，演算や単位元を明示せずに単に$M$がモノイドである，というように言うこともある．


\begin{rei}{}{n_monoid}
ゼロを含む自然数$\bbN$（つまり非負整数）は，二項演算$+$とモノイドをなす．ここでの単位元は$0$である．
実際任意の自然数$x, y, z$について，$(x+y)+z = x + (y+z)$かつ$0 + x = x + 0 = x$. 
同様に，$\bbN$が乗算$\times$についてもモノイドとなることを確認せよ（その単位元はなんだろうか）．
%また明らかなように，上の議論は自然数の代わりに有理数$\bbQ$，実数$\bbR$のゼロ以上の部分を用いても成立する．
\end{rei}

\begin{rei}{}{r_monoid}
足し算についての上の議論は，自然数の代わりに有理数$\bbQ$，実数$\bbR$のゼロ以上の部分を用いても成立する．
例えば$\bbR^+ := \{ x \in \bbR | x \geq 0 \}$と定義すると，$(\bbR^+, +, 0)$はモノイドである．
（負の部分はどうなるのか，と思うかもしれないが，これはあとで群を定義するときに見る．）
\end{rei}

モノイドの演算が具体的にどうなっているのかは，それぞれの元のペアの演算結果を明示することによって表示できる．
例えば，お馴染みの「九九の表」は，自然数の掛け算モノイドの演算を表で表したものだ：
\[
\begin{array}{c|cccccc}
       & 1 & 2 & 3 & \dots & n & \dots \\ \hline
     1 & 1 & 2 & 3 & \dots & n & \dots \\ 
     2 & 2 & 4 & 6 & \dots & 2n & \dots \\ 
     3 & 3 & 6 & 9 & \dots & 3n & \dots \\ 
     \vdots & \vdots & \vdots & \vdots & & \vdots & \\
     m & m & m2 & m3 & \cdots & mn & \cdots \\
     \vdots & \vdots & \vdots & \vdots & & \vdots & \\
\end{array}
\]
九九表の各マスは，モノイド$(\bbN, \times, 1)$の1から9までの各元（一番左の列）が，それぞれ1から9までの元（一番上の行）をどの自然数に対応させるかを表している．
すべてのモノイド演算は，原理的にこうした表（「積表」という）によって表すことができる．
つまり我々は小学生のころからモノイドを知っていたのである！


\begin{develop}
我々は今まで，（非負）実数$\bbR$を様々な数学的構造として見てきた．
まず2章ではそれが非可算無限集合であることを確認した．
3章ではその要素の間に大小関係$\leq, \geq$を入れた全順序集合として見た．
4章では，実数を開区間$(a,b)$からなる開集合を持つ位相空間として特徴づけた．
そしてここでは，二項演算$+$および$\times$が定義されたモノイドとして定義した．
このように，同じ「実数の集合」でも様々な顔を持ち，それらの顔はすでに見たような公理によって構成される．
我々が普段何気なく使う実数は，実はこうした顔全てをあわせもつ存在なのである．

 もちろん，実数の特徴づけはこれで終わりなわけではない．
 まず引き算と割り算の導入がまだであるし（これは以下で群のところで見る），またここで導入した足し算と掛け算が互いにどう関係し合うのか（例えば分配法則$a(b+c) = ab + ac$が満たされるか）などは，別個の公理によって定めなければならない．
 このためにはさらに\emph{環}(ring)，\emph{体}(field)といった概念を導入しなければならいのだが，本授業ではそこまでは扱わない．
\end{develop}

モノイドの例は数学以外にも事欠かない．
対象を繋げたり，行為を続けて行ったりというような逐次的なプロセスは，自然にモノイド構造を生み出す．

\begin{rei}{自由モノイド}{free_monoid}
3つの記号$a, b, c$に空文字$i$を加えた集合を$\Sigma = \{a, b, c, i \}$とする．
これらの文字（列）を横に繋げたものを積で表す（e.g. $a \circ b = ab, aabc \circ bac = aabcbac$）．
$i$は空文字なので繋げても何も変化しないとする（e.g. $ai = ia = a$）．
積による合成を再帰的に繰り返すことで，無限に文字列を生成することができる．
このように生成された文字列の集合を$\Sigma_*$とすると，これは$\circ$を積，$i$を単位元としたモノイドになっており，これを$\Sigma$上に生成される\emph{自由モノイド}(free monoid)という．
「消去(backspace)」を使わずにパソコンのキーストロークによって得られる文は，こうした自由モノイドの一例である．
\end{rei}

この例では，上の自然数の例とは異なり，有限個の「素材」$\Sigma$を元手として，それを積で合成することで$\Sigma_*$における無数のモノイド元を生成している．
生成されたモノイドが自由であるとは，それらの元の間に自明でないような等号関係がない，ということを意味している．
実際，上の$\Sigma_*$においては，いかなる文字列もそれ自身以外とは等しくない．
一方自然数のほうは，例えば$7 + 5 = 2 + 10 = 12$のように，複数の元の間に等号関係がある．


\begin{rei}{ロボットのプログラム}{robot_program}
プログラムによって操作できるロボットを考える．
ロボットに可能な動きは一歩前進する($a$)・右を向く($b$)・左を向く($c$)・何もしない($i$)の4つとする．
プログラムはこれら可能な4つの動作を有限回繰り返したものとして書かれる．
例えば$aaba$を入力すると，ロボットは前に二歩進んだあと右に一歩進む．
任意のプログラムは逐次的につなげることができる．例えば$aaba \circ cica$は$cica$を実行した後に$aaba$を実行する．
このロボットのプログラムは，上と同じようにモノイド$\Sigma_*$を生成する．
\end{rei}

これは前の事例\ref{rei:free_monoid}と構造上ほぼ同じように見えるが，重要な違いがある．
事例\ref{rei:free_monoid}の記号連結は自由モノイドを生成した．
一方，ロボットのプログラムの方はどうであろうか．
確かに，$bcaa$は前に二歩進んで左・右，$aabc$は左・右を向いてから前に二歩，とロボットの動作としては異なる．
その意味において，ロボットの\emph{動作}のプログラムとしてはこちらも自由モノイドである．
しかし，プログラムの最終的な\emph{結果}にだけ着目すると，両者とも同じ，単に前に二歩進む($aa$)のと同じ結果をもたらす．
よって結果の観点からは$bcaa = aabc = aa$というような等号関係が成立する．
その意味では，このモノイドには単に動作を組み合わせてできる様々なプログラムが含まれているだけでなく，それらのプログラムの間の等号関係を含んでいる．
よってここでの$\Sigma_*$は基本動作の集合から生成されたモノイドではあるが，自由に生成されたものではない．



\begin{rei}{人生}{life_monoid}
    我々の人生は選択の連続である．
    毎日の行動の選択肢を$(a)$ 遊ぶ，$(b)$勉強する，$(c)$バイトに行く，$(d)$休むとし，これに名目的な単位元($i$)を加えたものを$M$とする．
    行動$m$をした翌日に$n$を行うことを積$n \circ m$で表すと，$M$はモノイドとなる．
    例えば$adcabba$は遊び・勉強・勉強・遊び・バイト・休み・遊びの順で過ごした一週間を表している．
    人生は上述の選択肢$M$から生成されるモノイドである．
\end{rei}

この事例は，人生が日々の限られた選択から生成されていく様子をモデル化している．
これは自由モノイドだろうか？
自由モノイドであれば，事例\ref{rei:free_monoid}で一度繋げた文字が取り消せなかったように，一回した選択は取り消しができない，つまり過去を変えることはできない．
一方，自由モノイドでなければ，過去の挽回が可能である．
例えば$bba = b$という関係性（これは上のモノイドとは別の公理として導入されることになる）は，一日遊んだ後に二日続けて勉強すればそれを帳消しにできる，ということを述べている．

ここではさしあたり，人生とは自由モノイドであると仮定しよう．
今，月曜から木曜までを$daaa$と遊び呆けて過ごしたとする．
このとき，どのように残りを過ごしても，月曜日に遊びに行った事実は変えられない，つまりここから$daab$という「人生」には到達できない．
ここから，自由モノイドには「元$m$は元$n$から生成可能である」という半順序$n \preceq m$が定義できることがわかる（これが半順序であることを確認せよ）．
この半順序は図\ref{fig:monoid_tree}のような木構造をなす（ここではスペースの制約のため「遊ぶ」と「勉強」という二つの選択肢のみを描いている）．
この木構造は，自由モノイドによって生成される可能性の一つ一つを，根本から葉先まで続く一本の枝として表している．

\begin{figure}[h]
    \centering
    \begin{tikzpicture}[
        grow'=up,
        level 1/.style={sibling distance=4cm},
        level 2/.style={sibling distance=2cm},
        level 3/.style={sibling distance=1cm}
      ]
      
      \node[circle, draw, fill=white, inner sep=2pt] {}
        child {node {$a$}
          child {node {$aa$}
            child {node {$aaa$}}
            child {node {$baa$}}
          }
          child {node {$ba$}
            child {node {$aba$}}
            child {node {$bba$}}
          }
        }
        child[line width=2pt]  {node {$b$}
          child[line width=2pt] {node {$ab$}
            child {node {$aab$}}
            child[line width=1pt] {node {$bab$}}
          }
          child[line width=1pt]  {node {$bb$}
            child {node {$abb$}}
            child {node {$bbb$}}
          }
        };
      \end{tikzpicture}
      \caption{人生モノイドに対応する半順序．ここではスペースの制約のため，選択$a, b$のみを考慮し，3日間のみの分岐を表している．それぞれの枝は異なった「3日分の過ごし方」を表している．太線は遊び・勉強・勉強と過ごした3日間である．2日目の$ab$の時点で，他の6つの可能性は閉ざされている．}
      \label{fig:monoid_tree}
\end{figure}

\begin{renshu}{}{}
    上では人生を自由モノイドとしてしまったが，それは本当にそうなのだろうか．
    自由モノイドでない人生モデルは，人生をどのようなものとして捉えることになるだろうか．
    またそのとき，上で定義した生成可能関係は半順序をなすだろうか．
\end{renshu}    


\section{可換性}
上で見てきたようにモノイドには様々なものがあるが，その中で一番重要な区分は，それが可換であるか否か，というものである．
モノイド$M$が\emph{可換}(commutative)であるとは，その積の結果が順序によらないこと，つまり任意の2つのモノイド元$m,n \in M$について$m \circ n = n \circ m$がなりたつことをいう．
そうならないものが一例でもあるときは，非可換(noncommutative)であるという．

\begin{rei}{}{}
    足し算や掛け算は可換性が満たされる典型例である（任意の数につき$m+n = n+m, m\cdot n = n\cdot m$）．
    一方，$n \times n$行列の集合は行列積と単位行列$I$によりモノイドをなすが，これは可換性を満たさない（2つの行列$A, B$について一般に$AB \neq BA$）．
\end{rei}


足し算や掛け算に慣れ親しんだ身には，可換性は極めて一般的な性質に映るかもしれない．
しかし上述の定義の通り，それは非常に強い性質である．
モノイドとして表されるような現実世界の「作用」に目を向けると，多くの場面において可換性は必ずしも成立しない．
例えば上の事例で見た自由モノイドによる記号列の生成（\ref{rei:free_monoid}）やロボットのプログラム（\ref{rei:robot_program}）は明らかに非可換である．
非可換性を証明するためには，モノイド元のうち，$m \circ n \neq n \circ m$であるようなものを一組でも見つければ良い．


\begin{rei}{}{}
    ある人の心に生じる様々な心的刺激の集合を$M$で表すと，これはモノイドを生成する．その元は特定の質を持つ心的刺激，例えば「痛み($m$)」や「熱さ($n$)」であり，単位元は無刺激，積による合成 $m \circ n$ は熱さの後に痛みを感じることである．
    このとき，$M$は明らかに可換ではないだろう．というのも，痛みを感じてから熱さ感じることと，その逆とは明らかに別の感覚刺激だからだ．
\end{rei}

\begin{renshu}{}{}
    事例\ref{rei:life_monoid}の人生モノイドは可換だろうか，非可換だろうか．理由も含めて考えよ．
\end{renshu}

\begin{renshu}{}{}
 全体として非可換なモノイドであっても，特定の元の積では可換性が満たされうる．事例\ref{rei:robot_program}において，その実行結果（動作ではなく）が(i)非可換，(ii)可換となるようなプログラム元のペアをそれぞれ挙げよ．
\end{renshu}

\begin{renshu}{}{}    
    数学以外の事例で，可換／非可換モノイドによってモデル化できそうな現象をそれぞれ一つ挙げよ．その場合の合成と単位元がそれぞれ何に相当するのかを明示すること．
\end{renshu}    

ところで我々はすでに4章で，束の準同型写像を写像と演算（結び・交わり）可換性によって特徴づけたのだった．
そこでの可換性と，モノイドの可換性，関係はあるのだろうか？
もちろんある．
可換モノイドとは，以下の可換図式がすべての元$m,n \in M$に対して成立することにほかならない：
\[
\begin{tikzcd}
M \arrow{r}{m} \arrow[swap]{d}{n} 
& M \arrow{d}{n} \\
M \arrow{r}{m} & M
\end{tikzcd}
\]
つまり任意の$M$の元に対して，時計回りに$n \circ m$と合成しても，反時計回りに$m \circ n$と合成しても結果は同じ，ということだ．



\section{準同型写像}
本講ではこれまで，何らかの数学的構造を定義した際には，必ずその構造同士を対応させる，ないしその構造を保存する写像を考えてきた（e.g. 束準同型，連続写像等）．
同じように，モノイド間の構造を保つ写像を考えよう．
実際，我々は上で，モノイドの例として足し算と掛け算があることを見たが，これは別の言い方をすれば，足し算と掛け算はモノイドとして見れば同じ構造を持つ，ということである．
両モノイドを橋渡しする関係性，つまり足し算を掛け算へとシステマティックに変換するルールが，モノイド間の準同型写像である．

\begin{dfn}{モノイド準同型}{}
    2つのモノイド$(M, \circ, i), (M', \circ', i')$が与えられているとき，写像$f:M \to M'$で，任意の$m,n \in M$について次を満たすものを，$M$と$M'$の間の\emph{準同型写像}(homomorphism)という：
    \begin{enumerate}
        \item モノイド演算を保存する: $\ \ \ f(m \circ n) = f(m) \circ' f(n)$
        \item 単位元を単位元に送る: $\ \ \ f(i) = i'$
    \end{enumerate}
\end{dfn}

束準同型と同様に，この定義はモノイド間写像$f$がモノイド演算$\circ$と可換であることを要求している：
\[
\begin{tikzcd}
m, n \arrow{r}{f} \arrow[swap]{d}{\circ} 
& f(m), f(n) \arrow{d}{\circ'} \\
m \circ n \arrow{r}{f} 
& \begin{array}{c} f(m) \circ f(n) \\ = f(m \circ' n) \end{array}
\end{tikzcd}
\]
つまり$M$上で積を計算して$f$で$M'$へと飛ばしても（反時計回り），まず$M'$に飛ばしてから$M'$上の積$\circ'$を計算しても，結果は同じということだ．
モノイドの構造はその演算のあり方によって決定されるのだから，このように作られた準同型写像はモノイドの構造をしっかり保っているといえる．

ではゼロ以上の実数$\bbR^+ := \{x \in \bbR | x \geq 0 \}$上の足し算と掛け算のモノイドを例にとり，実際にこのような写像を構成してみよう．
つまり$M := (\bbR^+, +, 0), M' := (\bbR^+, \times, 1)$としたときの準同型$f:M \to M'$を見つけたい．
それは無数にあるのだが，一つの例として関数
\[ 2^{()} :: m \mapsto 2^m \]
を考えてみよう．
まずこれは$m \in \bbR^+$から$2^m \in \bbR^+$への関数になっている．さらに
\[ 2^{m + n} = 2^m \cdot 2^n \]
なので，和を積へとしっかりと移している．
これを「2を底とする指数関数」という．
2に限らず，$a>0$を底とする指数関数はすべて足し算としての非負実数から掛け算としての非負実数への準同型を与える．
%一般に指数関数(exponential function)といわれるときは底としてネイピア数$e\approx 2.718$をとる$e^{()}$を指す事が多い．これは$\exp()$とも表される．
特に底としてネイピア数$e\approx 2.718$をとるものを単に指数関数(exponential function)とよび，$\exp()$と表す．

\begin{rei}{}{nr_inclusion}
    我々は上で，自然数$\bbN$上の足し算と非負実数$\bbR^+$上の足し算はともにモノイドであると述べた．これらの間にも準同型がある．いま埋め込み$i:\bbN \to \bbR^+$を，$i(m)=m$で定義する．つまり$i$はある数$m$をとって同じ数$m$を返す．ただしここで入力される数$m$は整数であるが（つまり$m \in \bbN$），出力される数$i(m)$は実数として解釈されている（つまり$i(m) \in \bbR^+$）点に注意しよう．
    当然$i(m+n) = i(m)+i(n)$となり，この関数は足し算を保存するので，準同型写像である．
\end{rei} 

\begin{rei}{}{}
    事例\ref{rei:life_monoid}の人生モノイド$M$の縮小版として，(1)がんばる, (2)がんばらない，という2つの選択肢と単位元($i$)のみから生成される自由モノイド$M'$を考える．
    $M$から$M'$への関数$f$は，$M$の元に現れる「勉強する(b)」「バイトする(c)」を(1)に，「遊ぶ(a)」「休む(d)」を(2)に置き換えるものとすると，これは$M$から$M'$への準同型写像となる．
    例えば，$f(abd) \circ (dca) = 212 \circ' 212 = 212212 = f(abddca) = f(abd \circ dca)$である．

    （ところで自由モノイドは半順序を定義するのだった．$M$から$M'$へのモノイド準同型があるとき，そこから得られる半順序の間にはどのような関係があるか，考えてみても面白いかもしれない．）
\end{rei}


\begin{renshu}{}{}
    $(\bbN, +, 0)$から$(\bbR^+, +, 0)$への準同型写像には埋め込み以外にも沢山ある．その例を考えてみよう．
\end{renshu}


またこれまでと同様，モノイド$M, N$の間の準同型写像$f:M \to N$が全単射であるとき，$f$は\emph{同型写像}(isomorphism)といわれる．
$M$と$N$の間に同型写像があるとき，両者はモノイドとして\emph{同型}(isomorphic)といわれ，これを$M \sim N$と書く．
ちなみにこのとき逆写像$f^{-1}:N \to M$も$N$から$M$への同型写像になっている．


\begin{rei}{}{}
    $\exp():\bbR^+ \to \bbR^+$の逆写像は，（$e$を底とする）対数関数$\log()$である．
    $\log(x)=y$とは，$e$を$y$乗すると$x$になる，ということを意味する．
    よって任意の$x\in\bbR^+$につき，$\log(\exp(x))=x$であり，$\exp(\log(x))=x$. また
    \[ \log(x \cdot y) = \log(x) + \log(y) \]
    かつ
    \[ \log(1) = 0 \]
    より，$\log$は掛け算$(\bbR^+, \times, 1)$から足し算$(\bbR^+, +, 0)$への準同型写像になっている．

    一方で$(\bbN, +, 0)$と$(\bbR^+, +, 0)$の間には，当然全単射は存在しない．特に，事例\ref{rei:nr_inclusion}で見た埋め込み準同型は同型写像ではない．
\end{rei}


モノイド同型$M \sim N$はモノイド間の同値関係である．
まず恒等写像$i::m \mapsto m$はモノイド同型なので$M \sim M$．
また上に述べたように，$f:M \to N$が同型写像（つまり$M \sim N$）なら$f^{-1}:N \to M$が同型写像なので$N \sim M$．
そして$f:M \to N, g:N \to O$がそれぞれ同型写像なら，合成$gf:M \to O$も同型写像になる（気になる人は調べてみよう），つまり$M \sim N, N \sim O$なら$M \sim O$．

\begin{rei}{}{}
    事例\ref{rei:free_monoid}で扱った文字列のモノイドと，事例\ref{rei:robot_program}で見たロボットのプログラムは同型である．実際，前者をそのままロボットの動作プログラムと見ることができるし，また後者の動きから文字列を得ることができる．
\end{rei}

\begin{renshu}{}{}
    ロボットプログラムと人生モノイド（事例\ref{rei:life_monoid}）の間に同型写像を作ることはできるだろうか．準同型写像はどうだろうか．
\end{renshu}
% \begin{renshu}{}{}
% モノイド準同型は半順序であることを示せ（その際，モノイドの同一性はモノイド同型で考える．つまり反対称性は$f:M \to N$かつ$g:N \to M$がそれぞれ準同型であれば，$M \sim N$ということを示せばよい）．
% \end{renshu}


% \begin{rei}{}{}
%     心の機能主義(functionalism)によれば，心的状態は何らかの神経生理学的機能と同一視できる．この見方によれば「痛み」という質的な感じは，鋭い物理的刺激に対する神経生理学的反応の心的対応物に他ならない．これをモノイド準同型の観点からモデル化してみよう．
%     いま，$P$を事例2.3で見たような脳状態モノイド，$M$を事例3.2で見た心的モノイドとする．
%     このとき，機能主義とは準同型写像$f:P \to M$が存在する，という主張として捉えることができる．
%     物理刺激から心的刺激へのマッピング$f$が単射ではないなら，複数の物理的刺激が同一の心的刺激（例えば「痛み」）を生み出すことになる．
%     一方，これが全単射（つまり$f$が同型）である場合，両者は完全にパラレルであることになる．これを心脳同一説(mind-brain identity theory)という．
% \end{rei}

% \begin{renshu}{}{}
%     機能主義は，心的状態の物理的状態への付随説（2章事例7.1）と密接に関連する．
%     ある（心的）状態の集合$S_M$が（物的）状態の集合$S_P$に付随(supervene)するとは，2つの心的状態$s, s' \in S_M$が異なるなら対応する物理状態$f(s), f(s') \in S_P$も異なる，つまる$f$が単射であるということであった．
%     しかしこれは時間スライスごとの静的な対応を見ているだけで，本章で見たような時間発展を考慮していない．では通時的な心的・物的モノイド$M, P$を考えた場合，共時的に付随説が成立する条件はなんだろうか？
% %    （この問題は様々な粒度で考えることができるが，しっかりと扱うためには，モノイド作用についての正式な定式化が必要になる．）
% \end{renshu}




\section{モノイド作用}
モノイドは，ある対象について作用を加えたときにどう変化するか，あるいは状態がどう変遷していくか，というダイナミックな過程をモデル化するためによく用いられる．
その鍵になるのが，次に見る\emph{モノイド作用}(monoid action)の概念である．

準備として，まず上で見たモノイド演算を別の仕方で捉えてみたい．
例えば足し算のモノイドでは，演算$+$は2つの整数(e.g., $5, 7$)をとって1つの整数($12$)を返す2項関数なのだった．
しかし同様の事態を，全てのモノイド元$m$は，他のモノイド元$n$に「$m$を足す」1項関数，すなわち$m:M \to M, n \mapsto m+n$である，と表すこともできるだろう．
これはつまり，例えば具体的な数7を，「7を足す」作用として考えよう，ということだ．
モノイド元の合成は作用の合成，例えば$m+n$は「$m$を足してから$n$を足す」という一つの作用となり，また単位元$0$は「$0$を足す」（つまり何も変えない）という作用である．
このようにモノイドは，「自分自身に働きそれを変える作用」として考えることができる．

同様にして，モノイド$M$を自身以外の集合$X$に対して作用させてみようというのが，モノイド作用の基本的な考え方である．
つまり各モノイド元を$X$から$X$への1項関数とみる，あるいは同じことだが$M \times X \to X$の2項関数としてモノイド演算を考えよう，ということだ：

\begin{dfn}{モノイド作用}{}
 $(M, \circ, i)$をモノイド，$X$を集合とする．
 モノイド$M$の集合$X$への（左）\emph{$M$-作用(M-act)}とは，写像
 \[
  M \times X \to X, \ \ \ \ (m, x) \mapsto mx
 \]
 であり，以下を満たすものである：
 \begin{enumerate}
  \item 任意の$x \in X$について，$ix = x$.
  \item 任意の$m, n \in M$と任意の$x \in X$に対して，$m(nx) = (mn)x$.
 \end{enumerate}
\end{dfn}
%$M$を$X$への作用とみなすということは，それぞれのモノイド元$m \in M$を，$X \to X$の写像としてみなすということである．
上の要件1は単位元$i$が「何もしない」恒等写像$i(x)=x$であること，
要件2はモノイド元の結合が写像の合成になっている（つまり$x$を$n$で飛ばしてから$m$で飛ばすのと，モノイド合成$mn$したもので飛ばすものが等しい）ということを述べている．
この定義の集合$X$を$M$にすると，モノイドの定義2.1が復元されることを確認しよう．
つまりすべてのモノイドは自分自身へのモノイド作用だといえる．\footnote{左作用についての注．}

モノイド作用をイメージするためには，$X$を何らかの対象が持つ状態の集合とし，モノイドの各元は各状態に対して働いてそれを変化させるもの，というように考えると良い．例えば次の例を考えてみよう．
\begin{rei}{}{}
 3つの状態$X := \{H(appy), C(alm), S(ad)\}$をとり得るロボットを考える．
 このロボットに対する可能な入力として$M := \{\text{ほめる}, \text{しかる}, \text{放置}\}$の3つの選択肢があるとする．
 ロボットの状態は，その時の状態と入力に応じて以下のように変化するとする：
 \[
\begin{array}{c|ccc}
       & S & C & H \\ \hline
     \text{ほめる}　& C & H & H \\
     \text{しかる}　& S & S & S \\ 
     \text{放置}　  & S & C & H\\
\end{array}
\]
この表の各マスは，ロボットが上端の行で示される各状態にあるとき，左端列の入力を与えるとどう変化するかを表している（例えば左上は，状態$S$(Sad)のときに「ほめる」と状態が$C$(Calm)になることを表す）．
これは以前見た積表と同様にモノイド演算を表しており，入力$M$はロボットの状態$X$へのモノイド作用を与える（単位元は「放置」）．

 
ちなみに同様の演算は，図\ref{robot}のような\emph{状態遷移図}(state transition diagram)によっても表すことができる．
状態集合を持ち，その間の状態遷移関係が定まっているような機械を，\emph{オートマトン}(automaton)という．
オートマトンは，状態集合へのモノイド作用として考えることができる．
\end{rei}

\begin{figure}
    \begin{center}
        \begin{tikzpicture}[node/.style={draw, circle, inner sep=6pt}]
          \node[node] (s) {$S$};
          \node[node, right = 2cm of s] (c) {$C$};
          \node[node, right = 2cm of c] (h) {$H$};
    
          \path[->, >=stealth]
            (s) edge[loop above, in=60, out=120, looseness=6] node{しかる, 放置} (s)
            (s) edge[above, bend left = 20] node{ほめる} (c)
            (c) edge[loop above, in=60, out=120, looseness=6] node{放置} (c)
            (c) edge[below, bend left = 20] node{しかる} (s)
            (c) edge[above, bend left = 20] node{ほめる} (h)
            (h) edge[loop above, in=60, out=120, looseness=6] node{ほめる, 放置} (h)
            (h) edge[below, bend left = 40] node{しかる} (s); 
        \end{tikzpicture}
      \end{center}
      \caption{3状態ロボットの状態遷移図．}
      \label{robot}
\end{figure}

 
このように考えると，モノイド作用の射程は極めて広く，時間発展する系一般を記述することができる．
それには例えばコンピュータのプログラムの動作や，物理系の時間発展などが考えられる．
例えば古典力学の法則は，各質点の位置と運動量からなる\emph{状態空間}(state space)に対するモノイド作用として考えることができる．
こうした時間発展系を\emph{力学系}(dynamic systems)という．

% \begin{rei}{決定論的世界観}
% \end{rei}


\begin{rei}{}{}
    脳に加えられる外的・内的刺激全体を$M$とすると，$M$は脳状態へ作用するモノイドと捉えられる．ここで$m, n \in M$に対しその合成$mn$は，「刺激$m$を加えたあとに刺激$n$を加える」こととする（ただし「何も刺激を与えないこと」を単位元と考えるのは良くないかもしれない．その問題点を考えてみよ）．
\end{rei}

\begin{renshu}{}{}
モノイド作用もしくはオートマトンの例を挙げよ（自分で創作しても良い）．
その際，モノイド元と状態集合，および作用の積表を明示すること．
\end{renshu}







\bibliographystyle{apalike}
\bibliography{m4p}

\end{document}